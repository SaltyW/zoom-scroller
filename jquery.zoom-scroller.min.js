!function(e){var t={zoom:1,initZoom:1.15,animationTime:2e3,easing:"ease",onZoom:null};e.fn.zoomScroller=function(n){return this.each(function(){function l(e){var t=window.getComputedStyle(e,null);var n=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");var r=n.split("(")[1];r=r.split(")")[0];r=r.split(",");var i=r[0];var s=r[1];var o=r[2];var u=r[3];var a=Math.sqrt(i*i+s*s);return a}var r=e.extend({},t,n),i=e(this),s=0,o=i.find("> img");i.addClass("zs-wrapper").css("overflow","hidden").prepend("<div class='zs-img'></div>");o.remove();var u=i.find("> .zs-img");u.css({background:"url("+o.attr("src")+") center center no-repeat","background-size":"cover",overflow:"hidden",width:"100%",height:"100%","-webkit-transform":"scale("+r.initZoom+")","-moz-transform":"scale("+r.initZoom+")","-o-transform":"scale("+r.initZoom+")",transform:"scale("+r.initZoom+")","-webkit-transition":"-webkit-transform "+r.animationTime+"ms "+r.easing,"-moz-transition":"-moz-transform "+r.animationTime+"ms "+r.easing,"-ms-transition":"-o-transform "+r.animationTime+"ms "+r.easing,transition:"transform "+r.animationTime+"ms "+r.easing});var a,f=false;e("body").on("touchstart",function(){if(event.touches.length==1){a=event.touches[0].pageY;f=true}});e("body").on("touchend",function(){f=false;a=null});e(document).on("touchmove mousewheel DOMMouseScroll",function(t,n){s=e(document).scrollTop();if(i.is_on_screen(e(document).scrollTop())){u.css({"-webkit-transform":"scale("+r.zoom+")","-moz-transform":"scale("+r.zoom+")","-o-transform":"scale("+r.zoom+")",transform:"scale("+r.zoom+")"});if(typeof r.onZoom=="function")r.onZoom(u.parent(),"in")}else{u.css({"-webkit-transform":"scale("+r.initZoom+")","-moz-transform":"scale("+r.initZoom+")","-o-transform":"scale("+r.initZoom+")",transform:"scale("+r.initZoom+")"});if(typeof r.onZoom=="function")r.onZoom(u.parent(),"out")}});e.fn.is_on_screen=function(t){var n=i;var r={top:t};r.bottom=r.top+e(window).height();var s=this.offset();s.top=this.offset().top;s.bottom=this.offset().top+this.height();return!(r.bottom<s.top||r.top>s.bottom)}})}}(window.jQuery)